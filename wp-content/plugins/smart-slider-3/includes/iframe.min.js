"function"!==typeof window.n2SSIframeLoader&&("undefined"===typeof window.jQuery&&"undefined"!==typeof window.parent&&(window.jQuery=window.parent.jQuery),function(c){function d(a,b){this.i=b;this.frame=a;this.$frame=c(a)}var e=[],h=window.addEventListener?"addEventListener":"attachEvent";window[h]("attachEvent"===h?"onmessage":"message",function(a){for(var b=0;b<e.length;b++)e[b]&&e[b].match(a.source)&&e[b].message(a[a.message?"message":"data"])});d.prototype.match=function(a){return a===(this.frame.contentWindow||
    this.frame.contentDocument)?(this.frameContent=this.frame.contentWindow||this.frame.contentDocument,!0):!1};d.prototype.message=function(a){switch(a.key){case "setLocation":"function"===typeof window.zajax_goto?window.zajax_goto(a.location):window.location=a.location;break;case "ready":a=this.getClientHeight();this.frameContent.postMessage({key:"ackReady",clientHeight:a},"*");break;case "resize":a.fullPage?this.fullpage!==a.fullPage&&(this.fullpage=a.fullPage,this.$verticalOffsetSelectors=c(a.focus.offsetTop).add(a.focus.offsetBottom),
    this.resizeFullPage(),c(window).on("resize.n2-ss-iframe-"+this.i,c.proxy(this.resizeFullPage,this)),c(window).on("orientationchange.n2-ss-iframe-"+this.i,c.proxy(this.resizeFullPage,this))):this.fullpage=0,this.$frame.css({height:a.height}),a.forceFull&&this.forcefull!==a.forceFull&&(this.forcefull=a.forceFull,c("body").css("overflow-x","hidden"),this.$fullWidthTo=c(".edit-post-visual-editor,.fl-responsive-preview .fl-builder-content"),this.resizeFullWidth(),c(window).on("resize.n2-ss-iframe-"+this.i,
    c.proxy(this.resizeFullWidth,this)),this.watchWidth())}};d.prototype.watchWidth=function(){if(this.$fullWidthTo.length)if(void 0!==window.ResizeObserver){var a=0;this.observer=new ResizeObserver(c.proxy(function(b){b.forEach(c.proxy(function(b){a!==b.contentRect.width&&(a=b.contentRect.width,this.resizeFullWidth())},this))},this));this.observer.observe(this.$fullWidthTo[0])}else try{this.$resizeObserverIframe=c('<iframe class="bt_skip_resize" sandbox="allow-same-origin allow-scripts" style="margin:0;padding:0;border:0;display:block;width:100%;height:0;min-height:0;max-height:0px;"/>').on("load",
    c.proxy(function(a){var b=0,f=c(a.target.contentWindow?a.target.contentWindow:a.target.contentDocument.defaultView).on("resize",c.proxy(function(a){a=f.width();b!==a&&(b=a,this.resizeFullWidth())},this))},this)).appendTo(this.$fullWidthTo[0])}catch(b){}};d.prototype.exists=function(){if(c.contains(document.body,this.frame))return!0;e[this.i]=!1;c(window).off(".n2-ss-iframe-"+this.i);this.observer&&(this.observer.unobserve(this.$fullWidthTo[0]),delete this.observer);this.$resizeObserverIframe&&(this.$resizeObserverIframe.remove(),
    delete this.$resizeObserverIframe);return!1};d.prototype.resizeFullWidth=function(){if(this.exists()){var a=0,b=0;this.$fullWidthTo.length&&(a=this.$fullWidthTo.width(),b=this.$fullWidthTo.offset().left);a=0<a?a:document.body.clientWidth||document.documentElement.clientWidth;var g=this.$frame.parent(),f=g[0].getBoundingClientRect(),d="rtl"===c("html").attr("dir");f=d?a-(f.left+g.outerWidth()):f.left;this.$frame.css(d?"marginRight":"marginLeft",-f-parseInt(g.css("paddingLeft"))-parseInt(g.css("borderLeftWidth"))+
    b).css("maxWidth","none").width(a)}};d.prototype.resizeFullPage=function(a){if(this.exists()){a=this.getClientHeight(a);for(var b=0;b<this.$verticalOffsetSelectors.length;b++)a-=this.$verticalOffsetSelectors.eq(b).outerHeight();this.frameContent.postMessage({key:"update",clientHeight:a},"*");this.$frame.height(a)}};d.prototype.getClientHeight=function(a){var b=window.document;try{window.parent&&window.parent!==window&&(b=window.parent.document)}catch(k){}if(window.matchMedia&&/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||
    navigator.vendor||window.opera)){var c=!1,d=this.lastOrientation;a&&"orientationchange"===a.type&&(c=!0);a=/iPad|iPhone|iPod/.test(navigator.platform)?b.documentElement.clientHeight:window.innerHeight;window.matchMedia("(orientation: landscape)").matches?(a=Math.min(screen.width,a),90!==d&&(c=!0,this.lastOrientation=90)):(a=Math.min(screen.height,a),0!==d&&(c=!0,this.lastOrientation=0));!c&&100>Math.abs(a-this.lastClientHeight)?a=this.lastClientHeight:this.lastClientHeight=a}else a=b.documentElement.clientHeight||
    b.body.clientHeight;return a};window.n2SSIframeLoader=function(a){e.push(new d(a,e.length))}}(window.jQuery));