(function(b){var g=0,c={};function i(){b(".ig-block").each(function(){var j=b(this);if(j.hasClass("ig-block-loaded")){return true}else{j.addClass("ig-block-loaded")}var k=j.find(".ig-spinner");var l=parseInt(j.data("insgalid"));if(!k.length||isNaN(l)){return}jQuery.ajax({url:insgalajax.ajax_url,type:"post",dataType:"JSON",data:{action:"load_ig_item",insgalid:l},beforeSend:function(){k.show()},success:function(m){if((typeof m=="undefined")||(m==null)||(m==0)){return}if((typeof m==="object")&&m.success){if(m.data){j.append(m.data);f(j)}}}}).fail(function(m,n){console.log(n)}).always(function(){k.hide();if(j.find(".instagallery-actions").length){k.prependTo(j.find(".instagallery-actions"))}})})}function f(j){if(!j.find("[data-igfs]").length){return}var k=j.find("[data-igfs]");var l=k.data("igfs");if(l.display_type=="gallery"){h(k,l)}else{if(l.display_type=="carousel"){d(k,l)}}}function h(n,o){var j=n.find(".ig-item img.instagallery-image");if(j.length){var l=j.length,k=0,m=0;j.load(function(){k++;if(m==0){m=jQuery(this).height()}if((jQuery(this).width()==jQuery(this).height())){m=jQuery(this).height()}if(k>=l){n.find(".ig-item img.instagallery-image").each(function(){var q=jQuery(this);var r=q.height();if(m<r){var p=(r-m)/2;jQuery(this).css("margin-top","-"+p+"px");jQuery(this).css("margin-bottom","-"+p+"px")}})}})}if(!o.popup){return}n.find(".ig-item a").magnificPopup({type:"image",mainClass:"mfp-with-zoom",zoom:{enabled:true,duration:300,easing:"ease-in-out",opener:function(p){return p.is("img")?p:p.find("img")}},gallery:{enabled:true},image:{titleSrc:function(p){return p.el.attr("data-title")+'<small><a href="'+p.el.attr("data-iplink")+'" target="blank" title="view on Instagram"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24"><path style=" " d="M 5 3 C 3.898438 3 3 3.898438 3 5 L 3 19 C 3 20.101563 3.898438 21 5 21 L 19 21 C 20.101563 21 21 20.101563 21 19 L 21 13 L 19 11 L 19 19 L 5 19 L 5 5 L 13 5 L 11 3 Z M 14 3 L 16.65625 5.65625 L 9.15625 13.15625 L 10.84375 14.84375 L 18.34375 7.34375 L 21 10 L 21 3 Z "/>Link</svg></a></small>'}}})}function d(p,q){g++;var n=p.find("img.instacarousel-image");if(n.length){var m=n.length,l=0,o=0;n.load(function(){l++;if(o==0){o=jQuery(this).height()}if((jQuery(this).width()==jQuery(this).height())){o=jQuery(this).height()}if(l>=m){p.find("img.instacarousel-image").each(function(){var s=jQuery(this);var t=s.height();if(o<t){var r=(t-o)/2;jQuery(this).css("margin-top","-"+r+"px");jQuery(this).css("margin-bottom","-"+r+"px")}});c[g].update()}})}var k={loop:true,autoHeight:true,observer:true,observeParents:true,};if(q.autoplay){var j=q.autoplay_interval?parseInt(q.autoplay_interval):3000;k.autoplay={delay:j}}if(q.navarrows){k.navigation={nextEl:".swiper-button-next",prevEl:".swiper-button-prev",}}if(q.spacing){k.spaceBetween=20}k.slidesPerView=q.slidespv;k.breakpoints={};if(q.slidespv>3){k.breakpoints[1023]={slidesPerView:3,spaceBetween:20}}if(q.slidespv>2){k.breakpoints[767]={slidesPerView:2,spaceBetween:15}}k.breakpoints[420]={slidesPerView:1};c[g]=new Swiper(p,k);if(q.popup){p.find(".swiper-slide>a").magnificPopup({type:"image",mainClass:"mfp-with-zoom",zoom:{enabled:true,duration:300,easing:"ease-in-out",opener:function(r){return r.is("img")?r:r.find("img")}},gallery:{enabled:true},image:{titleSrc:function(r){return r.el.attr("data-title")+'<small><a href="'+r.el.attr("data-iplink")+'" target="blank" title="view on Instagram"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24"><path style=" " d="M 5 3 C 3.898438 3 3 3.898438 3 5 L 3 19 C 3 20.101563 3.898438 21 5 21 L 19 21 C 20.101563 21 21 20.101563 21 19 L 21 13 L 19 11 L 19 19 L 5 19 L 5 5 L 13 5 L 11 3 Z M 14 3 L 16.65625 5.65625 L 9.15625 13.15625 L 10.84375 14.84375 L 18.34375 7.34375 L 21 10 L 21 3 Z "/>Link</svg></a></small>'}}})}}function a(k,n){var m=[].slice.call(k.find("img.ig-lazy"));var l=false;var j=function(){if(l===false){l=true;setTimeout(function(){m.forEach(function(o){if((o.getBoundingClientRect().top<=window.innerHeight&&o.getBoundingClientRect().bottom>=0)&&getComputedStyle(o).display!=="none"){o.src=o.dataset.src;o.classList.remove("lazy");m=m.filter(function(p){return p!==o});if(m.length===0){document.removeEventListener("scroll",j);document.removeEventListener("touchmove",j);window.removeEventListener("resize",j);window.removeEventListener("orientationchange",j)}}});l=false},200)}};document.addEventListener("scroll",j);document.addEventListener("touchmove",j);window.addEventListener("resize",j);window.addEventListener("orientationchange",j);j()}function e(){if(navigator.appVersion.indexOf("MSIE 8.")!=-1){document.body.className+=" instagal-ie-8"}if(navigator.appVersion.indexOf("MSIE 9.")!=-1){document.body.className+=" instagal-ie-9"}}if(b(".ig-block").length){i()}jQuery(function(j){i();e()})})(jQuery);